velocity_estimate_in_world_frame: false
print_info:                       false
enable_rc_tune:                   true
enable_state_prediction:          true
enable_trajectory_replan:         true
enable_mpcc_mode:                 true

# Limits
emergency_land_thrust:        9.0
max_emergency_pos_z:          10.0
min_emergency_pos_z:          -1.0
max_emergency_pos_xy:         100.0
min_emergency_pos_xy:         -100.0
reference_thrust:             9.81
max_reference_pos_z:          5.0
min_reference_pos_z:          0.0
max_reference_pos_xy:         100.0
min_reference_pos_xy:         -100.0

max_planning_vel:             8.0

max_distance:                 20.0
min_distance:                 1.5
max_thrust_ratio:             1.0
min_thrust_ratio:             0.5

# Frequencies
command_publish_frequency:    20
watchdog_frequency:           30

# Timeouts
odometry_estimate_timeout:    0.1
point_estimate_timeout:       0.1
synchron_data_timeout:        0.3
command_update_timeout:       1.0
emergency_landing_timeout:    3.0
flight_termination_timeout:   3.0
land_timeout:                 5.0
home_timeout:                 5.0

# Sizes
gate_width: 10.0
gate_height: 10.0
quad_radius: 0.1

# Initial Reference
init_position:        [ 0.0, 0.0, 1.0 ]
init_heading:         0.0

# Home Reference
home_position:        [ 0.0, 0.0, 0.5 ]
home_heading:         0.0

# MPC Parameters
control_mode:                 2
state_cost_exponential: 0.0     # Scaling for state costs
input_cost_exponential: 0.0     # scaling for input costs
Q_pos_xy:     200     
Q_pos_z:      200
Q_att:   50
Q_vel:   10
Q_thr: 0

Q_img_u: 0
Q_img_v: 0
Q_err:   0
Q_drate: 0

R_thrust:     1     # Cost on thrust input
R_roll:   50     # Cost on pitch and roll rate
R_pitch:  50     # Cost on pitch and roll rate
R_yaw:    5     # Cost on yaw ratte
R_sv1: 0.001
R_sv2: 0.001

cost_feature_track: 50
cost_visibility_u:  500
cost_visibility_v:  0
cost_constratint_vis:  2000
cost_constratint_ttc:  200

reference_distance:           18.0
reaching_distance:            2.0
reference_speed: 8
cost_speed:  10
feature_track_max_distance: 1.0
feature_track_distance_threshold: 0.5
global_point_position_change_threshold: 3.0
image_u_bound: 0.48
image_v_bound: 0.25

# Control Limits
max_thrust_rate:    40
max_bodyrate_x:    2.0       # ~ pi [rad/s]
max_bodyrate_y:    2.0       # ~ pi [rad/s]
max_bodyrate_z:     1.0       # ~ pi*2/3 [rad/s]
min_thrust:         1.0       # ~ 20% gravity [N]
max_thrust:         20.0      # ~ 200% gravity [N]
thrust_ratio:       1.42
predictive_control_lookahead: 1.0
control_command_delay: 0.005
quad_size:          0.3
# max_thrust:         13.0      # ~ 200% gravity [N]

# Camera Extrinsics
t_B_C:      [ 0.05, 0.0, 0.0 ]          # camera in body center [m]
q_B_C:      [ 0.5, -0.5, 0.5, -0.5 ]  # point forward